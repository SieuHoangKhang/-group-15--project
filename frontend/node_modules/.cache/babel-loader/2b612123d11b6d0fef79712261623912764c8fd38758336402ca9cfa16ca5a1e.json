{"ast":null,"code":"var _jsxFileName = \"d:\\\\MON_HOC\\\\MA_NGUON_MO\\\\TH_Buoi4\\\\-group-15--project\\\\frontend\\\\src\\\\UsersContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\nimport api from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UsersContext = /*#__PURE__*/createContext(null);\nexport function UsersProvider({\n  children\n}) {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const fetchUsers = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const res = await api.get('/users');\n      setUsers(res.data || []);\n    } catch (err) {\n      setError((err === null || err === void 0 ? void 0 : err.message) || 'Network Error');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const addUser = useCallback(async payload => {\n    const res = await api.post('/users', payload);\n    // Refresh list after add\n    await fetchUsers();\n    return res.data;\n  }, [fetchUsers]);\n  const updateUser = useCallback(async (id, payload) => {\n    const res = await api.put(`/users/${id}`, payload);\n    await fetchUsers();\n    return res.data;\n  }, [fetchUsers]);\n  const deleteUser = useCallback(async id => {\n    const res = await api.delete(`/users/${id}`);\n    await fetchUsers();\n    return res.data;\n  }, [fetchUsers]);\n  useEffect(() => {\n    fetchUsers();\n  }, [fetchUsers]);\n  return /*#__PURE__*/_jsxDEV(UsersContext.Provider, {\n    value: {\n      users,\n      loading,\n      error,\n      fetchUsers,\n      addUser,\n      updateUser,\n      deleteUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(UsersProvider, \"xP3heTGyL5KAyMDEAhBpRotxdiM=\");\n_c = UsersProvider;\nexport function useUsers() {\n  _s2();\n  const ctx = useContext(UsersContext);\n  if (!ctx) throw new Error('useUsers must be used within UsersProvider');\n  return ctx;\n}\n_s2(useUsers, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nexport default UsersContext;\nvar _c;\n$RefreshReg$(_c, \"UsersProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","useCallback","api","jsxDEV","_jsxDEV","UsersContext","UsersProvider","children","_s","users","setUsers","loading","setLoading","error","setError","fetchUsers","res","get","data","err","message","addUser","payload","post","updateUser","id","put","deleteUser","delete","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useUsers","_s2","ctx","Error","$RefreshReg$"],"sources":["d:/MON_HOC/MA_NGUON_MO/TH_Buoi4/-group-15--project/frontend/src/UsersContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\r\nimport api from './api';\r\n\r\nconst UsersContext = createContext(null);\r\n\r\nexport function UsersProvider({ children }) {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const fetchUsers = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      const res = await api.get('/users');\r\n      setUsers(res.data || []);\r\n    } catch (err) {\r\n      setError(err?.message || 'Network Error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const addUser = useCallback(async (payload) => {\r\n    const res = await api.post('/users', payload);\r\n    // Refresh list after add\r\n    await fetchUsers();\r\n    return res.data;\r\n  }, [fetchUsers]);\r\n\r\n  const updateUser = useCallback(async (id, payload) => {\r\n    const res = await api.put(`/users/${id}`, payload);\r\n    await fetchUsers();\r\n    return res.data;\r\n  }, [fetchUsers]);\r\n\r\n  const deleteUser = useCallback(async (id) => {\r\n    const res = await api.delete(`/users/${id}`);\r\n    await fetchUsers();\r\n    return res.data;\r\n  }, [fetchUsers]);\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, [fetchUsers]);\r\n\r\n  return (\r\n    <UsersContext.Provider value={{ users, loading, error, fetchUsers, addUser, updateUser, deleteUser }}>\r\n      {children}\r\n    </UsersContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useUsers() {\r\n  const ctx = useContext(UsersContext);\r\n  if (!ctx) throw new Error('useUsers must be used within UsersProvider');\r\n  return ctx;\r\n}\r\n\r\nexport default UsersContext;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}