{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import GlassCard from\"./ui/GlassCard\";import CardContent from\"@mui/material/CardContent\";import CardHeader from\"@mui/material/CardHeader\";import TextField from\"@mui/material/TextField\";import Button from\"@mui/material/Button\";import Stack from\"@mui/material/Stack\";import{useToast}from\"./ui/ToastProvider\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddUser(){const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[loading,setLoading]=useState(false);const toast=useToast();const handleSubmit=async e=>{e.preventDefault();setLoading(true);if(!name||!email){toast.warning(\"Vui lòng nhập đầy đủ tên và email\");setLoading(false);return;}try{// Bám sát yêu cầu: axios.post(\"http://localhost:3000/api/users\", newUser)\nconst newUser={name,email};await axios.post(\"http://localhost:3000/api/users\",newUser);toast.success(\"Thêm user thành công!\");setName(\"\");setEmail(\"\");// Phát sự kiện để UserList refetch danh sách\nwindow.dispatchEvent(new CustomEvent('users:refresh'));}catch(err){var _err$response,_err$response$data;const msg=(err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||(err===null||err===void 0?void 0:err.message)||\"Lỗi không xác định\";console.error(\"Lỗi khi thêm user:\",err);toast.error(\"Kh\\xF4ng th\\u1EC3 th\\xEAm user: \".concat(msg));}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(GlassCard,{children:[/*#__PURE__*/_jsx(CardHeader,{title:\"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsx(CardContent,{sx:{pt:0},children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Stack,{spacing:2,direction:{xs:'column',sm:'row'},useFlexGap:true,flexWrap:\"wrap\",children:[/*#__PURE__*/_jsx(TextField,{label:\"T\\xEAn\",value:name,onChange:e=>setName(e.target.value),required:true,fullWidth:true,className:\"interactive focus-ring\",sx:{'& .MuiOutlinedInput-root':{bgcolor:'rgba(255,255,255,0.02)',backdropFilter:'blur(4px)','& fieldset':{borderColor:'rgba(255,255,255,0.12)'},'&:hover fieldset':{borderColor:'rgba(255,255,255,0.22)'},'&.Mui-focused fieldset':{borderColor:'primary.main',boxShadow:'0 0 0 3px rgba(110,168,254,0.25)'}}}}),/*#__PURE__*/_jsx(TextField,{type:\"email\",label:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true,fullWidth:true,className:\"interactive focus-ring\",sx:{'& .MuiOutlinedInput-root':{bgcolor:'rgba(255,255,255,0.02)',backdropFilter:'blur(4px)','& fieldset':{borderColor:'rgba(255,255,255,0.12)'},'&:hover fieldset':{borderColor:'rgba(255,255,255,0.22)'},'&.Mui-focused fieldset':{borderColor:'primary.main',boxShadow:'0 0 0 3px rgba(110,168,254,0.25)'}}}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:loading,className:\"interactive\",sx:{minWidth:140,background:'linear-gradient(135deg, #7f5af0 0%, #6ea8fe 100%)',boxShadow:'0 10px 24px rgba(127,90,240,0.35)','&:hover':{background:'linear-gradient(135deg, #8a67ff 0%, #7fb4ff 100%)',boxShadow:'0 14px 28px rgba(127,90,240,0.45)'},'&:active':{boxShadow:'0 8px 18px rgba(127,90,240,0.35)'}},children:loading?\"Đang thêm...\":\"Thêm\"})]})})})]});}export default AddUser;","map":{"version":3,"names":["React","useState","axios","GlassCard","CardContent","CardHeader","TextField","Button","Stack","useToast","jsx","_jsx","jsxs","_jsxs","AddUser","name","setName","email","setEmail","loading","setLoading","toast","handleSubmit","e","preventDefault","warning","newUser","post","success","window","dispatchEvent","CustomEvent","err","_err$response","_err$response$data","msg","response","data","message","console","error","concat","children","title","sx","pt","onSubmit","spacing","direction","xs","sm","useFlexGap","flexWrap","label","value","onChange","target","required","fullWidth","className","bgcolor","backdropFilter","borderColor","boxShadow","type","variant","disabled","minWidth","background"],"sources":["D:/MON_HOC/MA_NGUON_MO/TH_Buoi4/-group-15--project/frontend/src/AddUser.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport GlassCard from \"./ui/GlassCard\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Stack from \"@mui/material/Stack\";\nimport { useToast } from \"./ui/ToastProvider\";\n\nfunction AddUser() {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    if (!name || !email) {\n      toast.warning(\"Vui lòng nhập đầy đủ tên và email\");\n      setLoading(false);\n      return;\n    }\n    try {\n  // Bám sát yêu cầu: axios.post(\"http://localhost:3000/api/users\", newUser)\n  const newUser = { name, email };\n  await axios.post(\"http://localhost:3000/api/users\", newUser);\n      toast.success(\"Thêm user thành công!\");\n      setName(\"\");\n      setEmail(\"\");\n  // Phát sự kiện để UserList refetch danh sách\n  window.dispatchEvent(new CustomEvent('users:refresh'));\n    } catch (err) {\n      const msg = err?.response?.data?.message || err?.message || \"Lỗi không xác định\";\n      console.error(\"Lỗi khi thêm user:\", err);\n      toast.error(`Không thể thêm user: ${msg}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <GlassCard>\n      <CardHeader title=\"Thêm người dùng\" />\n      <CardContent sx={{ pt: 0 }}>\n        <form onSubmit={handleSubmit}>\n          <Stack spacing={2} direction={{ xs: 'column', sm: 'row' }} useFlexGap flexWrap=\"wrap\">\n            <TextField\n              label=\"Tên\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              required\n              fullWidth\n              className=\"interactive focus-ring\"\n              sx={{\n                '& .MuiOutlinedInput-root': {\n                  bgcolor: 'rgba(255,255,255,0.02)',\n                  backdropFilter: 'blur(4px)',\n                  '& fieldset': { borderColor: 'rgba(255,255,255,0.12)' },\n                  '&:hover fieldset': { borderColor: 'rgba(255,255,255,0.22)' },\n                  '&.Mui-focused fieldset': {\n                    borderColor: 'primary.main',\n                    boxShadow: '0 0 0 3px rgba(110,168,254,0.25)',\n                  },\n                },\n              }}\n            />\n            <TextField\n              type=\"email\"\n              label=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              fullWidth\n              className=\"interactive focus-ring\"\n              sx={{\n                '& .MuiOutlinedInput-root': {\n                  bgcolor: 'rgba(255,255,255,0.02)',\n                  backdropFilter: 'blur(4px)',\n                  '& fieldset': { borderColor: 'rgba(255,255,255,0.12)' },\n                  '&:hover fieldset': { borderColor: 'rgba(255,255,255,0.22)' },\n                  '&.Mui-focused fieldset': {\n                    borderColor: 'primary.main',\n                    boxShadow: '0 0 0 3px rgba(110,168,254,0.25)',\n                  },\n                },\n              }}\n            />\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              disabled={loading}\n              className=\"interactive\"\n              sx={{\n                minWidth: 140,\n                background: 'linear-gradient(135deg, #7f5af0 0%, #6ea8fe 100%)',\n                boxShadow: '0 10px 24px rgba(127,90,240,0.35)',\n                '&:hover': {\n                  background: 'linear-gradient(135deg, #8a67ff 0%, #7fb4ff 100%)',\n                  boxShadow: '0 14px 28px rgba(127,90,240,0.45)',\n                },\n                '&:active': {\n                  boxShadow: '0 8px 18px rgba(127,90,240,0.35)',\n                },\n              }}\n            >\n              {loading ? \"Đang thêm...\" : \"Thêm\"}\n            </Button>\n          </Stack>\n        </form>\n      </CardContent>\n    </GlassCard>\n  );\n}\n\nexport default AddUser;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}