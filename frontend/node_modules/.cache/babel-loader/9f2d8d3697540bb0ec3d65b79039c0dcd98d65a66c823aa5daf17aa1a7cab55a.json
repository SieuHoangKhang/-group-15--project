{"ast":null,"code":"import axios from\"axios\";// Xác định baseURL theo môi trường chạy:\n// - Nếu có REACT_APP_API_URL thì dùng trực tiếp\n// - Nếu đang chạy CRA dev ở cổng 3001 thì trỏ thẳng sang backend 3000\n// - Ngược lại dùng same-origin ('') để dùng chung cổng khi backend phục vụ build\nconst inferBaseURL=()=>{if(process.env.REACT_APP_API_URL)return process.env.REACT_APP_API_URL;if(typeof window!==\"undefined\"){const{hostname,port,protocol}=window.location;if(hostname===\"localhost\"&&port===\"3001\"){return\"\".concat(protocol,\"//\").concat(hostname,\":3000\");}}return\"\";};const BASE_URL=inferBaseURL();const api=axios.create({baseURL:BASE_URL,headers:{\"Content-Type\":\"application/json\"}});// Log baseURL ở dev để kiểm tra đúng đích\nif(process.env.NODE_ENV!=='production'){// eslint-disable-next-line no-console\nconsole.debug('API baseURL:',BASE_URL||'(same-origin)');}export default api;","map":{"version":3,"names":["axios","inferBaseURL","process","env","REACT_APP_API_URL","window","hostname","port","protocol","location","concat","BASE_URL","api","create","baseURL","headers","NODE_ENV","console","debug"],"sources":["D:/MON_HOC/MA_NGUON_MO/TH_Buoi4/-group-15--project/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\n\n// Xác định baseURL theo môi trường chạy:\n// - Nếu có REACT_APP_API_URL thì dùng trực tiếp\n// - Nếu đang chạy CRA dev ở cổng 3001 thì trỏ thẳng sang backend 3000\n// - Ngược lại dùng same-origin ('') để dùng chung cổng khi backend phục vụ build\nconst inferBaseURL = () => {\n  if (process.env.REACT_APP_API_URL) return process.env.REACT_APP_API_URL;\n  if (typeof window !== \"undefined\") {\n    const { hostname, port, protocol } = window.location;\n    if (hostname === \"localhost\" && port === \"3001\") {\n      return `${protocol}//${hostname}:3000`;\n    }\n  }\n  return \"\";\n};\n\nconst BASE_URL = inferBaseURL();\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: { \"Content-Type\": \"application/json\" },\n});\n\n// Log baseURL ở dev để kiểm tra đúng đích\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line no-console\n  console.debug('API baseURL:', BASE_URL || '(same-origin)');\n}\n\nexport default api;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB;AACA;AACA;AACA;AACA,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAE,MAAO,CAAAF,OAAO,CAACC,GAAG,CAACC,iBAAiB,CACvE,GAAI,MAAO,CAAAC,MAAM,GAAK,WAAW,CAAE,CACjC,KAAM,CAAEC,QAAQ,CAAEC,IAAI,CAAEC,QAAS,CAAC,CAAGH,MAAM,CAACI,QAAQ,CACpD,GAAIH,QAAQ,GAAK,WAAW,EAAIC,IAAI,GAAK,MAAM,CAAE,CAC/C,SAAAG,MAAA,CAAUF,QAAQ,OAAAE,MAAA,CAAKJ,QAAQ,UACjC,CACF,CACA,MAAO,EAAE,CACX,CAAC,CAED,KAAM,CAAAK,QAAQ,CAAGV,YAAY,CAAC,CAAC,CAC/B,KAAM,CAAAW,GAAG,CAAGZ,KAAK,CAACa,MAAM,CAAC,CACvBC,OAAO,CAAEH,QAAQ,CACjBI,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,CAEF;AACA,GAAIb,OAAO,CAACC,GAAG,CAACa,QAAQ,GAAK,YAAY,CAAE,CACzC;AACAC,OAAO,CAACC,KAAK,CAAC,cAAc,CAAEP,QAAQ,EAAI,eAAe,CAAC,CAC5D,CAEA,cAAe,CAAAC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}