{"ast":null,"code":"var _jsxFileName = \"D:\\\\MON_HOC\\\\MA_NGUON_MO\\\\TH_Buoi4\\\\-group-15--project\\\\frontend\\\\src\\\\UserList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useUsers } from \"./UsersContext\";\nimport { useAuth } from \"./auth/AuthContext\";\nimport GlassCard from \"./ui/GlassCard\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport Box from '@mui/material/Box';\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Button from \"@mui/material/Button\";\nimport { useToast } from \"./ui/ToastProvider\";\nimport TextField from \"@mui/material/TextField\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UserList() {\n  _s();\n  const {\n    users,\n    loading,\n    error,\n    fetchUsers,\n    updateUser,\n    deleteUser\n  } = useUsers();\n  const {\n    user: authUser\n  } = useAuth();\n  const [confirm, setConfirm] = useState({\n    open: false,\n    id: null\n  });\n  const [edit, setEdit] = useState({\n    open: false,\n    id: null,\n    name: \"\",\n    email: \"\"\n  });\n  const [showAllOpen, setShowAllOpen] = useState(false);\n  const toast = useToast();\n  useEffect(() => {\n    const handler = () => fetchUsers();\n    window.addEventListener('users:refresh', handler);\n    return () => window.removeEventListener('users:refresh', handler);\n  }, [fetchUsers]);\n  const confirmDelete = id => setConfirm({\n    open: true,\n    id\n  });\n  const closeConfirm = () => setConfirm({\n    open: false,\n    id: null\n  });\n  const handleDelete = async () => {\n    const id = confirm.id;\n    if (!id) return;\n    try {\n      await deleteUser(id);\n      toast.success('Đã xoá user');\n      closeConfirm();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || (err === null || err === void 0 ? void 0 : err.message) || 'Lỗi xoá user';\n      toast.error(msg);\n    }\n  };\n  const openEdit = user => {\n    setEdit({\n      open: true,\n      id: user.id,\n      name: user.name,\n      email: user.email\n    });\n  };\n  const closeEdit = () => setEdit({\n    open: false,\n    id: null,\n    name: \"\",\n    email: \"\"\n  });\n  const handleUpdate = async () => {\n    if (!edit.id) return;\n    if (!edit.name || !edit.email) {\n      toast.warning('Vui lòng nhập đầy đủ tên và email');\n      return;\n    }\n    try {\n      await updateUser(edit.id, {\n        name: edit.name,\n        email: edit.email\n      });\n      toast.success('Cập nhật user thành công');\n      closeEdit();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || (err === null || err === void 0 ? void 0 : err.message) || 'Lỗi cập nhật user';\n      toast.error(msg);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GlassCard, {\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      title: \"Danh s\\xE1ch User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      sx: {\n        pt: 0\n      },\n      children: [error && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"error\",\n          sx: {\n            mb: 1\n          },\n          children: [\"L\\u1ED7i t\\u1EA3i d\\u1EEF li\\u1EC7u: \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          variant: \"contained\",\n          onClick: fetchUsers,\n          className: \"interactive\",\n          sx: {\n            background: 'linear-gradient(135deg, #7f5af0 0%, #6ea8fe 100%)',\n            boxShadow: '0 8px 18px rgba(127,90,240,0.35)'\n          },\n          children: \"Th\\u1EED l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), users.length === 0 && !loading && !error ? /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: \"Ch\\u01B0a c\\xF3 user n\\xE0o.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this) : users.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            maxHeight: 320,\n            overflow: 'auto',\n            mb: 1,\n            borderRadius: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(TableContainer, {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              size: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"T\\xEAn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: users.map(user => /*#__PURE__*/_jsxDEV(TableRow, {\n                  hover: true,\n                  sx: {\n                    transition: 'background 160ms ease, transform 160ms ease',\n                    '&:hover': {\n                      backgroundColor: 'rgba(255,255,255,0.03)'\n                    }\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: user.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: user.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: (() => {\n                      // Quyền hiển thị nút: admin hiển thị cho tất cả; user chỉ cho phép sửa/xóa chính họ\n                      const isAdmin = !!authUser && String(authUser.role || '').toLowerCase() === 'admin';\n                      const isSelf = !!authUser && (authUser.id === user.id || authUser.id === user._id || authUser.sub === user.id);\n                      const showDelete = isAdmin || isSelf;\n                      const showEdit = isAdmin || isSelf;\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [showDelete && /*#__PURE__*/_jsxDEV(IconButton, {\n                          color: \"error\",\n                          onClick: () => confirmDelete(user.id),\n                          className: \"interactive\",\n                          sx: {\n                            transition: 'box-shadow 140ms ease, background 140ms ease',\n                            '&:hover': {\n                              boxShadow: '0 6px 16px rgba(255,0,0,0.25)'\n                            },\n                            '&:active': {\n                              boxShadow: '0 4px 12px rgba(255,0,0,0.2)'\n                            }\n                          },\n                          children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 152,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 140,\n                          columnNumber: 31\n                        }, this), showEdit && /*#__PURE__*/_jsxDEV(IconButton, {\n                          color: \"primary\",\n                          onClick: () => openEdit(user),\n                          className: \"interactive\",\n                          sx: {\n                            ml: 1,\n                            transition: 'box-shadow 140ms ease, background 140ms ease',\n                            '&:hover': {\n                              boxShadow: '0 6px 16px rgba(110,168,254,0.25)'\n                            },\n                            '&:active': {\n                              boxShadow: '0 4px 12px rgba(110,168,254,0.2)'\n                            }\n                          },\n                          children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 166,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 156,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true);\n                    })()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 21\n                  }, this)]\n                }, user.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: 1,\n            mb: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            variant: \"outlined\",\n            onClick: () => setShowAllOpen(true),\n            children: \"Xem t\\u1EA5t c\\u1EA3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          open: showAllOpen,\n          onClose: () => setShowAllOpen(false),\n          fullWidth: true,\n          maxWidth: \"lg\",\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            children: \"To\\xE0n b\\u1ED9 danh s\\xE1ch User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            dividers: true,\n            children: /*#__PURE__*/_jsxDEV(TableContainer, {\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                size: \"small\",\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      children: \"ID\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: \"T\\xEAn\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: users.map(user => /*#__PURE__*/_jsxDEV(TableRow, {\n                    hover: true,\n                    sx: {\n                      '&:hover': {\n                        backgroundColor: 'rgba(255,255,255,0.03)'\n                      }\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      children: user.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: user.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: user.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: (() => {\n                        const isAdmin = !!authUser && String(authUser.role || '').toLowerCase() === 'admin';\n                        const isSelf = !!authUser && (authUser.id === user.id || authUser.id === user._id || authUser.sub === user.id);\n                        const showDelete = isAdmin || isSelf;\n                        const showEdit = isAdmin || isSelf;\n                        return /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [showDelete && /*#__PURE__*/_jsxDEV(IconButton, {\n                            color: \"error\",\n                            onClick: () => confirmDelete(user.id),\n                            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 215,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 214,\n                            columnNumber: 35\n                          }, this), showEdit && /*#__PURE__*/_jsxDEV(IconButton, {\n                            color: \"primary\",\n                            onClick: () => openEdit(user),\n                            sx: {\n                              ml: 1\n                            },\n                            children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 220,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 219,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true);\n                      })()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 25\n                    }, this)]\n                  }, user.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowAllOpen(false),\n              children: \"\\u0110\\xF3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: confirm.open,\n      onClose: closeConfirm,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Xo\\xE1 user?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n xo\\xE1 user #\", confirm.id, \" kh\\xF4ng?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: closeConfirm,\n          children: \"Hu\\u1EF7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"error\",\n          variant: \"contained\",\n          onClick: handleDelete,\n          children: \"Xo\\xE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: edit.open,\n      onClose: closeEdit,\n      fullWidth: true,\n      maxWidth: \"sm\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"S\\u1EEDa th\\xF4ng tin user\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          pt: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"dense\",\n          label: \"T\\xEAn\",\n          fullWidth: true,\n          value: edit.name,\n          onChange: e => setEdit(s => ({\n            ...s,\n            name: e.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          margin: \"dense\",\n          label: \"Email\",\n          type: \"email\",\n          fullWidth: true,\n          value: edit.email,\n          onChange: e => setEdit(s => ({\n            ...s,\n            email: e.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: closeEdit,\n          children: \"Hu\\u1EF7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleUpdate,\n          variant: \"contained\",\n          children: \"L\\u01B0u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(UserList, \"zdBwlD7b2BzQMazmxyu23QC18tw=\", false, function () {\n  return [useUsers, useAuth, useToast];\n});\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","useEffect","useState","useUsers","useAuth","GlassCard","CardContent","CardHeader","Table","TableBody","TableCell","TableContainer","Box","TableHead","TableRow","Typography","IconButton","DeleteIcon","Dialog","DialogTitle","DialogContent","DialogActions","Button","useToast","TextField","EditIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","UserList","_s","users","loading","error","fetchUsers","updateUser","deleteUser","user","authUser","confirm","setConfirm","open","id","edit","setEdit","name","email","showAllOpen","setShowAllOpen","toast","handler","window","addEventListener","removeEventListener","confirmDelete","closeConfirm","handleDelete","success","err","_err$response","_err$response$data","msg","response","data","message","openEdit","closeEdit","handleUpdate","warning","_err$response2","_err$response2$data","children","title","fileName","_jsxFileName","lineNumber","columnNumber","sx","pt","variant","color","mb","size","onClick","className","background","boxShadow","length","maxHeight","overflow","borderRadius","align","map","hover","transition","backgroundColor","isAdmin","String","role","toLowerCase","isSelf","_id","sub","showDelete","showEdit","ml","display","justifyContent","gap","onClose","fullWidth","maxWidth","dividers","margin","label","value","onChange","e","s","target","type","_c","$RefreshReg$"],"sources":["D:/MON_HOC/MA_NGUON_MO/TH_Buoi4/-group-15--project/frontend/src/UserList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useUsers } from \"./UsersContext\";\nimport { useAuth } from \"./auth/AuthContext\";\nimport GlassCard from \"./ui/GlassCard\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport Box from '@mui/material/Box';\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport Button from \"@mui/material/Button\";\nimport { useToast } from \"./ui/ToastProvider\";\nimport TextField from \"@mui/material/TextField\";\nimport EditIcon from \"@mui/icons-material/Edit\";\n\nfunction UserList() {\n  const { users, loading, error, fetchUsers, updateUser, deleteUser } = useUsers();\n  const { user: authUser } = useAuth();\n  const [confirm, setConfirm] = useState({ open: false, id: null });\n  const [edit, setEdit] = useState({ open: false, id: null, name: \"\", email: \"\" });\n  const [showAllOpen, setShowAllOpen] = useState(false);\n  const toast = useToast();\n\n  useEffect(() => {\n    const handler = () => fetchUsers();\n    window.addEventListener('users:refresh', handler);\n    return () => window.removeEventListener('users:refresh', handler);\n  }, [fetchUsers]);\n\n  const confirmDelete = (id) => setConfirm({ open: true, id });\n  const closeConfirm = () => setConfirm({ open: false, id: null });\n\n  const handleDelete = async () => {\n    const id = confirm.id;\n    if (!id) return;\n    try {\n      await deleteUser(id);\n      toast.success('Đã xoá user');\n      closeConfirm();\n    } catch (err) {\n      const msg = err?.response?.data?.message || err?.message || 'Lỗi xoá user';\n      toast.error(msg);\n    }\n  };\n\n  const openEdit = (user) => {\n    setEdit({ open: true, id: user.id, name: user.name, email: user.email });\n  };\n  const closeEdit = () => setEdit({ open: false, id: null, name: \"\", email: \"\" });\n  const handleUpdate = async () => {\n    if (!edit.id) return;\n    if (!edit.name || !edit.email) {\n      toast.warning('Vui lòng nhập đầy đủ tên và email');\n      return;\n    }\n    try {\n      await updateUser(edit.id, { name: edit.name, email: edit.email });\n      toast.success('Cập nhật user thành công');\n      closeEdit();\n    } catch (err) {\n      const msg = err?.response?.data?.message || err?.message || 'Lỗi cập nhật user';\n      toast.error(msg);\n    }\n  };\n\n  return (\n    <GlassCard>\n      <CardHeader title=\"Danh sách User\" />\n      <CardContent sx={{ pt: 0 }}>\n        {error && (\n          <>\n            <Typography variant=\"body2\" color=\"error\" sx={{ mb: 1 }}>\n              Lỗi tải dữ liệu: {error}\n            </Typography>\n            <Button\n              size=\"small\"\n              variant=\"contained\"\n              onClick={fetchUsers}\n              className=\"interactive\"\n              sx={{\n                background: 'linear-gradient(135deg, #7f5af0 0%, #6ea8fe 100%)',\n                boxShadow: '0 8px 18px rgba(127,90,240,0.35)',\n              }}\n            >\n              Thử lại\n            </Button>\n          </>\n        )}\n        {users.length === 0 && !loading && !error ? (\n          <Typography variant=\"body2\" color=\"text.secondary\">Chưa có user nào.</Typography>\n        ) : users.length > 0 ? (\n          <>\n          {/* Compact scrollable preview */}\n          <Box sx={{ maxHeight: 320, overflow: 'auto', mb: 1, borderRadius: 1 }}>\n            <TableContainer>\n              <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>ID</TableCell>\n                  <TableCell>Tên</TableCell>\n                  <TableCell>Email</TableCell>\n                  <TableCell align=\"right\">Hành động</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {users.map((user) => (\n                  <TableRow\n                    key={user.id}\n                    hover\n                    sx={{\n                      transition: 'background 160ms ease, transform 160ms ease',\n                      '&:hover': {\n                        backgroundColor: 'rgba(255,255,255,0.03)',\n                      },\n                    }}\n                  >\n                    <TableCell>{user.id}</TableCell>\n                    <TableCell>{user.name}</TableCell>\n                    <TableCell>{user.email}</TableCell>\n                    <TableCell align=\"right\">\n                      {(() => {\n                        // Quyền hiển thị nút: admin hiển thị cho tất cả; user chỉ cho phép sửa/xóa chính họ\n                        const isAdmin = !!authUser && String(authUser.role || '').toLowerCase() === 'admin';\n                        const isSelf = !!authUser && (authUser.id === user.id || authUser.id === user._id || authUser.sub === user.id);\n                        const showDelete = isAdmin || isSelf;\n                        const showEdit = isAdmin || isSelf;\n                        return (\n                          <>\n                            {showDelete && (\n                              <IconButton\n                                color=\"error\"\n                                onClick={() => confirmDelete(user.id)}\n                                className=\"interactive\"\n                                sx={{\n                                  transition: 'box-shadow 140ms ease, background 140ms ease',\n                                  '&:hover': {\n                                    boxShadow: '0 6px 16px rgba(255,0,0,0.25)',\n                                  },\n                                  '&:active': { boxShadow: '0 4px 12px rgba(255,0,0,0.2)' },\n                                }}\n                              >\n                                <DeleteIcon />\n                              </IconButton>\n                            )}\n                            {showEdit && (\n                              <IconButton\n                                color=\"primary\"\n                                onClick={() => openEdit(user)}\n                                className=\"interactive\"\n                                sx={{ ml: 1,\n                                  transition: 'box-shadow 140ms ease, background 140ms ease',\n                                  '&:hover': { boxShadow: '0 6px 16px rgba(110,168,254,0.25)' },\n                                  '&:active': { boxShadow: '0 4px 12px rgba(110,168,254,0.2)' },\n                                }}\n                              >\n                                <EditIcon />\n                              </IconButton>\n                            )}\n                          </>\n                        );\n                      })()}\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n            </TableContainer>\n          </Box>\n\n          {/* Actions below preview */}\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end', gap: 1, mb: 1 }}>\n            <Button size=\"small\" variant=\"outlined\" onClick={() => setShowAllOpen(true)}>Xem tất cả</Button>\n          </Box>\n\n          {/* Full list dialog */}\n          <Dialog open={showAllOpen} onClose={() => setShowAllOpen(false)} fullWidth maxWidth=\"lg\">\n            <DialogTitle>Toàn bộ danh sách User</DialogTitle>\n            <DialogContent dividers>\n              <TableContainer>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>ID</TableCell>\n                      <TableCell>Tên</TableCell>\n                      <TableCell>Email</TableCell>\n                      <TableCell align=\"right\">Hành động</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {users.map((user) => (\n                      <TableRow key={user.id} hover sx={{ '&:hover': { backgroundColor: 'rgba(255,255,255,0.03)' } }}>\n                        <TableCell>{user.id}</TableCell>\n                        <TableCell>{user.name}</TableCell>\n                        <TableCell>{user.email}</TableCell>\n                        <TableCell align=\"right\">\n                          {(() => {\n                            const isAdmin = !!authUser && String(authUser.role || '').toLowerCase() === 'admin';\n                            const isSelf = !!authUser && (authUser.id === user.id || authUser.id === user._id || authUser.sub === user.id);\n                            const showDelete = isAdmin || isSelf;\n                            const showEdit = isAdmin || isSelf;\n                            return (\n                              <>\n                                {showDelete && (\n                                  <IconButton color=\"error\" onClick={() => confirmDelete(user.id)}>\n                                    <DeleteIcon />\n                                  </IconButton>\n                                )}\n                                {showEdit && (\n                                  <IconButton color=\"primary\" onClick={() => openEdit(user)} sx={{ ml: 1 }}>\n                                    <EditIcon />\n                                  </IconButton>\n                                )}\n                              </>\n                            );\n                          })()}\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={() => setShowAllOpen(false)}>Đóng</Button>\n            </DialogActions>\n          </Dialog>\n          </>\n        ) : null}\n      </CardContent>\n      <Dialog open={confirm.open} onClose={closeConfirm}>\n        <DialogTitle>Xoá user?</DialogTitle>\n        <DialogContent>Bạn có chắc chắn muốn xoá user #{confirm.id} không?</DialogContent>\n        <DialogActions>\n          <Button onClick={closeConfirm}>Huỷ</Button>\n          <Button color=\"error\" variant=\"contained\" onClick={handleDelete}>Xoá</Button>\n        </DialogActions>\n      </Dialog>\n\n        <Dialog open={edit.open} onClose={closeEdit} fullWidth maxWidth=\"sm\">\n          <DialogTitle>Sửa thông tin user</DialogTitle>\n          <DialogContent sx={{ pt: 1 }}>\n            <TextField\n              margin=\"dense\"\n              label=\"Tên\"\n              fullWidth\n              value={edit.name}\n              onChange={(e) => setEdit((s) => ({ ...s, name: e.target.value }))}\n            />\n            <TextField\n              margin=\"dense\"\n              label=\"Email\"\n              type=\"email\"\n              fullWidth\n              value={edit.email}\n              onChange={(e) => setEdit((s) => ({ ...s, email: e.target.value }))}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={closeEdit}>Huỷ</Button>\n            <Button onClick={handleUpdate} variant=\"contained\">Lưu</Button>\n          </DialogActions>\n        </Dialog>\n    </GlassCard>\n  );\n}\n\nexport default UserList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}