{"ast":null,"code":"var _jsxFileName = \"D:\\\\MON_HOC\\\\MA_NGUON_MO\\\\TH_Buoi4\\\\-group-15--project\\\\frontend\\\\src\\\\AddUser.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useUsers } from \"./UsersContext\";\nimport GlassCard from \"./ui/GlassCard\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Stack from \"@mui/material/Stack\";\nimport { useToast } from \"./ui/ToastProvider\";\nimport { useAuth } from \"./auth/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddUser() {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n  const {\n    token\n  } = useAuth();\n  const {\n    addUser\n  } = useUsers();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    // Yêu cầu đăng nhập trước khi thêm\n    if (!token) {\n      toast.warning(\"Vui lòng đăng nhập để thêm người dùng\");\n      setLoading(false);\n      return;\n    }\n    // Validation\n    if (!name || !name.trim()) {\n      toast.warning(\"Tên không được để trống\");\n      setLoading(false);\n      return;\n    }\n    const emailRegex = /\\S+@\\S+\\.\\S+/;\n    if (!email || !emailRegex.test(email)) {\n      toast.warning(\"Email không hợp lệ\");\n      setLoading(false);\n      return;\n    }\n    try {\n      const newUser = {\n        name: name.trim(),\n        email: email.trim()\n      };\n      await addUser(newUser);\n      toast.success(\"Thêm user thành công!\");\n      setName(\"\");\n      setEmail(\"\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || (err === null || err === void 0 ? void 0 : err.message) || \"Lỗi không xác định\";\n      console.error(\"Lỗi khi thêm user:\", err);\n      toast.error(`Không thể thêm user: ${msg}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GlassCard, {\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      title: \"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      sx: {\n        pt: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 2,\n          direction: {\n            xs: 'column',\n            sm: 'row'\n          },\n          useFlexGap: true,\n          flexWrap: \"wrap\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"T\\xEAn\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            required: true,\n            fullWidth: true,\n            className: \"interactive focus-ring\",\n            sx: {\n              '& .MuiOutlinedInput-root': {\n                bgcolor: 'rgba(255,255,255,0.02)',\n                backdropFilter: 'blur(4px)',\n                '& fieldset': {\n                  borderColor: 'rgba(255,255,255,0.12)'\n                },\n                '&:hover fieldset': {\n                  borderColor: 'rgba(255,255,255,0.22)'\n                },\n                '&.Mui-focused fieldset': {\n                  borderColor: 'primary.main',\n                  boxShadow: '0 0 0 3px rgba(110,168,254,0.25)'\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"email\",\n            label: \"Email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            required: true,\n            fullWidth: true,\n            className: \"interactive focus-ring\",\n            sx: {\n              '& .MuiOutlinedInput-root': {\n                bgcolor: 'rgba(255,255,255,0.02)',\n                backdropFilter: 'blur(4px)',\n                '& fieldset': {\n                  borderColor: 'rgba(255,255,255,0.12)'\n                },\n                '&:hover fieldset': {\n                  borderColor: 'rgba(255,255,255,0.22)'\n                },\n                '&.Mui-focused fieldset': {\n                  borderColor: 'primary.main',\n                  boxShadow: '0 0 0 3px rgba(110,168,254,0.25)'\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            disabled: loading,\n            className: \"interactive\",\n            sx: {\n              minWidth: 140,\n              background: 'linear-gradient(135deg, #7f5af0 0%, #6ea8fe 100%)',\n              boxShadow: '0 10px 24px rgba(127,90,240,0.35)',\n              '&:hover': {\n                background: 'linear-gradient(135deg, #8a67ff 0%, #7fb4ff 100%)',\n                boxShadow: '0 14px 28px rgba(127,90,240,0.45)'\n              },\n              '&:active': {\n                boxShadow: '0 8px 18px rgba(127,90,240,0.35)'\n              }\n            },\n            children: loading ? \"Đang thêm...\" : \"Thêm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(AddUser, \"1pPbEaA2xHiM1SRoBJDnXYSQj3Q=\", false, function () {\n  return [useToast, useAuth, useUsers];\n});\n_c = AddUser;\nexport default AddUser;\nvar _c;\n$RefreshReg$(_c, \"AddUser\");","map":{"version":3,"names":["React","useState","useUsers","GlassCard","CardContent","CardHeader","TextField","Button","Stack","useToast","useAuth","jsxDEV","_jsxDEV","AddUser","_s","name","setName","email","setEmail","loading","setLoading","toast","token","addUser","handleSubmit","e","preventDefault","warning","trim","emailRegex","test","newUser","success","err","_err$response","_err$response$data","msg","response","data","message","console","error","children","title","fileName","_jsxFileName","lineNumber","columnNumber","sx","pt","onSubmit","spacing","direction","xs","sm","useFlexGap","flexWrap","label","value","onChange","target","required","fullWidth","className","bgcolor","backdropFilter","borderColor","boxShadow","type","variant","disabled","minWidth","background","_c","$RefreshReg$"],"sources":["D:/MON_HOC/MA_NGUON_MO/TH_Buoi4/-group-15--project/frontend/src/AddUser.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useUsers } from \"./UsersContext\";\nimport GlassCard from \"./ui/GlassCard\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Stack from \"@mui/material/Stack\";\nimport { useToast } from \"./ui/ToastProvider\";\nimport { useAuth } from \"./auth/AuthContext\";\n\nfunction AddUser() {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n  const { token } = useAuth();\n  const { addUser } = useUsers();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    // Yêu cầu đăng nhập trước khi thêm\n    if (!token) {\n      toast.warning(\"Vui lòng đăng nhập để thêm người dùng\");\n      setLoading(false);\n      return;\n    }\n    // Validation\n    if (!name || !name.trim()) {\n      toast.warning(\"Tên không được để trống\");\n      setLoading(false);\n      return;\n    }\n    const emailRegex = /\\S+@\\S+\\.\\S+/;\n    if (!email || !emailRegex.test(email)) {\n      toast.warning(\"Email không hợp lệ\");\n      setLoading(false);\n      return;\n    }\n    try {\n      const newUser = { name: name.trim(), email: email.trim() };\n      await addUser(newUser);\n      toast.success(\"Thêm user thành công!\");\n      setName(\"\");\n      setEmail(\"\");\n    } catch (err) {\n      const msg = err?.response?.data?.message || err?.message || \"Lỗi không xác định\";\n      console.error(\"Lỗi khi thêm user:\", err);\n      toast.error(`Không thể thêm user: ${msg}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <GlassCard>\n      <CardHeader title=\"Thêm người dùng\" />\n      <CardContent sx={{ pt: 0 }}>\n        <form onSubmit={handleSubmit}>\n          <Stack spacing={2} direction={{ xs: 'column', sm: 'row' }} useFlexGap flexWrap=\"wrap\">\n            <TextField\n              label=\"Tên\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              required\n              fullWidth\n              className=\"interactive focus-ring\"\n              sx={{\n                '& .MuiOutlinedInput-root': {\n                  bgcolor: 'rgba(255,255,255,0.02)',\n                  backdropFilter: 'blur(4px)',\n                  '& fieldset': { borderColor: 'rgba(255,255,255,0.12)' },\n                  '&:hover fieldset': { borderColor: 'rgba(255,255,255,0.22)' },\n                  '&.Mui-focused fieldset': {\n                    borderColor: 'primary.main',\n                    boxShadow: '0 0 0 3px rgba(110,168,254,0.25)',\n                  },\n                },\n              }}\n            />\n            <TextField\n              type=\"email\"\n              label=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              fullWidth\n              className=\"interactive focus-ring\"\n              sx={{\n                '& .MuiOutlinedInput-root': {\n                  bgcolor: 'rgba(255,255,255,0.02)',\n                  backdropFilter: 'blur(4px)',\n                  '& fieldset': { borderColor: 'rgba(255,255,255,0.12)' },\n                  '&:hover fieldset': { borderColor: 'rgba(255,255,255,0.22)' },\n                  '&.Mui-focused fieldset': {\n                    borderColor: 'primary.main',\n                    boxShadow: '0 0 0 3px rgba(110,168,254,0.25)',\n                  },\n                },\n              }}\n            />\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              disabled={loading}\n              className=\"interactive\"\n              sx={{\n                minWidth: 140,\n                background: 'linear-gradient(135deg, #7f5af0 0%, #6ea8fe 100%)',\n                boxShadow: '0 10px 24px rgba(127,90,240,0.35)',\n                '&:hover': {\n                  background: 'linear-gradient(135deg, #8a67ff 0%, #7fb4ff 100%)',\n                  boxShadow: '0 14px 28px rgba(127,90,240,0.45)',\n                },\n                '&:active': {\n                  boxShadow: '0 8px 18px rgba(127,90,240,0.35)',\n                },\n              }}\n            >\n              {loading ? \"Đang thêm...\" : \"Thêm\"}\n            </Button>\n          </Stack>\n        </form>\n      </CardContent>\n    </GlassCard>\n  );\n}\n\nexport default AddUser;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}