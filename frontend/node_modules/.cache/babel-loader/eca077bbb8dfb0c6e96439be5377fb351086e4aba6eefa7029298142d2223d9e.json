{"ast":null,"code":"var _jsxFileName = \"D:\\\\MON_HOC\\\\MA_NGUON_MO\\\\TH_Buoi4\\\\-group-15--project\\\\frontend\\\\src\\\\auth\\\\ResetPassword.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"../api\";\nimport { Box, Paper, Typography, TextField, Button } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ResetPassword() {\n  _s();\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [tokenInput, setTokenInput] = useState('');\n  const tokenFromQuery = new URLSearchParams(window.location.search).get(\"token\") || '';\n  const token = tokenFromQuery || tokenInput;\n  const handleReset = async e => {\n    e.preventDefault();\n    try {\n      const res = await axios.post(\"/auth/reset-password\", {\n        token,\n        password: newPassword\n      });\n      alert(res.data.message);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message || 'Lỗi';\n      alert(msg);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      position: 'fixed',\n      inset: 0,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1300\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'absolute',\n        inset: 0,\n        bgcolor: 'rgba(0,0,0,0.55)',\n        backdropFilter: 'blur(6px)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 12,\n      sx: {\n        position: 'relative',\n        zIndex: 2,\n        width: 480,\n        p: 3,\n        borderRadius: 2,\n        bgcolor: theme => theme.palette.background.paper,\n        color: theme => theme.palette.text.primary\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        sx: {\n          mb: 1,\n          fontWeight: 700\n        },\n        children: \"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleReset,\n        children: [!tokenFromQuery && /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Token\",\n          value: tokenInput,\n          onChange: e => setTokenInput(e.target.value),\n          fullWidth: true,\n          sx: {\n            mb: 2,\n            bgcolor: theme => theme.palette.background.default,\n            borderRadius: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\",\n          type: \"password\",\n          value: newPassword,\n          onChange: e => setNewPassword(e.target.value),\n          fullWidth: true,\n          sx: {\n            mb: 2,\n            bgcolor: theme => theme.palette.background.default,\n            borderRadius: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 1,\n            justifyContent: 'flex-end'\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            type: \"submit\",\n            children: \"\\u0110\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(ResetPassword, \"XEvPUuOhCYns2ofuXTNhKLYwUKA=\");\n_c = ResetPassword;\nexport default ResetPassword;\nvar _c;\n$RefreshReg$(_c, \"ResetPassword\");","map":{"version":3,"names":["React","useState","axios","Box","Paper","Typography","TextField","Button","jsxDEV","_jsxDEV","ResetPassword","_s","newPassword","setNewPassword","tokenInput","setTokenInput","tokenFromQuery","URLSearchParams","window","location","search","get","token","handleReset","e","preventDefault","res","post","password","alert","data","message","err","_err$response","_err$response$data","msg","response","sx","position","inset","display","alignItems","justifyContent","zIndex","children","bgcolor","backdropFilter","fileName","_jsxFileName","lineNumber","columnNumber","elevation","width","p","borderRadius","theme","palette","background","paper","color","text","primary","variant","mb","fontWeight","onSubmit","label","value","onChange","target","fullWidth","default","type","gap","_c","$RefreshReg$"],"sources":["D:/MON_HOC/MA_NGUON_MO/TH_Buoi4/-group-15--project/frontend/src/auth/ResetPassword.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"../api\";\r\nimport { Box, Paper, Typography, TextField, Button } from '@mui/material';\r\n\r\nfunction ResetPassword() {\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [tokenInput, setTokenInput] = useState('');\r\n  const tokenFromQuery = new URLSearchParams(window.location.search).get(\"token\") || '';\r\n\r\n  const token = tokenFromQuery || tokenInput;\r\n\r\n  const handleReset = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post(\"/auth/reset-password\", {\r\n        token,\r\n        password: newPassword,\r\n      });\r\n      alert(res.data.message);\r\n    } catch (err) {\r\n      const msg = err?.response?.data?.message || err.message || 'Lỗi';\r\n      alert(msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ position: 'fixed', inset: 0, display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1300 }}>\r\n      {/* backdrop with blur to emphasize the form */}\r\n      <Box sx={{ position: 'absolute', inset: 0, bgcolor: 'rgba(0,0,0,0.55)', backdropFilter: 'blur(6px)' }} />\r\n\r\n      <Paper elevation={12} sx={{ position: 'relative', zIndex: 2, width: 480, p: 3, borderRadius: 2, bgcolor: (theme) => theme.palette.background.paper, color: (theme) => theme.palette.text.primary }}>\r\n        <Typography variant=\"h5\" sx={{ mb: 1, fontWeight: 700 }}>Đổi mật khẩu</Typography>\r\n\r\n        <form onSubmit={handleReset}>\r\n          {!tokenFromQuery && (\r\n            <TextField\r\n              label=\"Token\"\r\n              value={tokenInput}\r\n              onChange={(e) => setTokenInput(e.target.value)}\r\n              fullWidth\r\n              sx={{ mb: 2, bgcolor: (theme) => theme.palette.background.default, borderRadius: 1 }}\r\n            />\r\n          )}\r\n\r\n          <TextField\r\n            label=\"Mật khẩu mới\"\r\n            type=\"password\"\r\n            value={newPassword}\r\n            onChange={(e) => setNewPassword(e.target.value)}\r\n            fullWidth\r\n            sx={{ mb: 2, bgcolor: (theme) => theme.palette.background.default, borderRadius: 1 }}\r\n          />\r\n\r\n          <Box sx={{ display: 'flex', gap: 1, justifyContent: 'flex-end' }}>\r\n            <Button variant=\"contained\" type=\"submit\">Đặt lại mật khẩu</Button>\r\n          </Box>\r\n        </form>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default ResetPassword;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}